{
  "project" : "aggie-experts",

  "environments" : {
    "dev" : {
      "project" : "aggie-experts",
      "platform" : "microk8s",
      "namespace" : "aggie-experts-dev",
      "kubeconfig" : {
        "secret" : "kubeconfig-dev-libk8s",
        "context" : "microk8s"
      }
    }
  },

  "secrets" : {
    "dev" : [{
      "k8sName" : "kubeconfig",
      "kubeconfig" : true
    },
    {
      "k8sName" : "postgres-password",
      "mappings" : [{
        "gcsmName" : "libk8s-dev-pg-password",
        "k8sProperty" : "POSTGRES_PASSWORD"
      }]
    },
    {
      "k8sName" : "dagster-postgres-password",
      "mappings" : [{
        "gcsmName" : "libk8s-dev-pg-password",
        "k8sProperty" : "DAGSTER_POSTGRES_PASSWORD"
      }]
    },
    {
      "k8sName" : "superset-secret-key",
      "mappings" : [{
        "gcsmName" : "libk8s-dev-superset-key",
        "k8sProperty" : "SUPERSET_SECRET_KEY"
      }]
    },
    {
      "k8sName" : "slack-webhook-url",
      "mappings" : [{
        "gcsmName" : "libk8s-dev-slack-webhook-url",
        "k8sProperty" : "SLACK_WEBHOOK_URL"
      }]
    },
    {
      "k8sName" : "jwt-secret",
      "mappings" : [{
        "gcsmName" : "libk8s-dev-jwt-secret",
        "k8sProperty" : "JWT_SECRET"
      }]
    },
    {
      "k8sName" : "oidc-client-secret",
      "mappings" : [{
        "gcsmName" : "libk8s-dev-oidc-client-secret",
        "k8sProperty" : "OIDC_CLIENT_SECRET"
      }]
    },
    {
      "k8sName" : "service-account",
      "mappings" : [{
        "gcsmName" : "libk8s-dev-service-account",
        "k8sProperty" : "service-account.json"
      }]
    },
    {
      "k8sName" : "experts-wildcard-tls",
      "tls" : true,
      "certGcsmName" : "tls-wildcard-cert",
      "keyGcsmName" : "tls-wildcard-key"
    }]
  },

  "services" : [
    {
      "path" : "kustomize/app-env"
    },
    {
      "path" : "kustomize/volumes/caskfs-volume",
      "group" : "anduin"
    },
    {
      "path" : "kustomize/volumes/dagster-storage-volume",
      "group" : "anduin"
    },
    {
      "path" : "kustomize/postgres"
    },
    {
      "path" : "kustomize/rabbitmq"
    },
    {
      "path" : "kustomize/elastic-search"
    },
    {
      "path" : "kustomize/kibana"
    },
    {
      "path" : "kustomize/dagster/dagster-daemon",
      "group" : "anduin"
    },
    {
      "path" : "kustomize/dagster/dagster-celery-worker",
      "group" : "anduin"
    },
    {
      "path" : "kustomize/dagster/dagster-ui",
      "group" : "anduin"
    },
    {
      "path" : "kustomize/caskfs-ui",
      "group" : "anduin"
    },
    {
      "path" : "kustomize/anduin-gateway",
      "group" : "anduin"
    },
    {
      "path" : "kustomize/superset",
      "group" : "anduin"
    },
    {
      "path" : "kustomize/webapp/gateway",
      "group" : "webapp"
    },
    {
      "path" : "kustomize/webapp/spa",
      "group" : "webapp"
    },
    {
      "path" : "kustomize/webapp/api",
      "group" : "webapp"
    }
  ]
}